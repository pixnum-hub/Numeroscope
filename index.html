<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NumeroScope - Complete Numerology</title>
<style>
/* === Global Styles === */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
body{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background:#e0e0e0;padding:20px;transition:background 0.3s,color 0.3s;}
body.dark-mode{background:#1c1c1c;color:#f5f5f5;}
.app-frame{position:relative;border:2px solid #bebebe;border-radius:25px;max-width:1000px;width:100%;padding:40px 30px 60px 30px;background:#e0e0e0;box-shadow:20px 20px 60px #bebebe,-20px -20px 60px #ffffff;display:flex;flex-direction:column;align-items:center;transition:background 0.3s,box-shadow 0.3s;}
body.dark-mode .app-frame{background:#1c1c1c;border-color:#333;box-shadow:20px 20px 60px #111,-20px -20px 60px #222;}
h1{margin-bottom:25px;font-size:2rem;text-align:center;}
input,textarea,select,button{width:100%;padding:12px 15px;margin:8px 0;border-radius:15px;border:none;outline:none;font-size:1rem;background:#e0e0e0;box-shadow:inset 5px 5px 10px #bebebe, inset -5px -5px 10px #ffffff;transition:all 0.3s;}
body.dark-mode input,body.dark-mode textarea,body.dark-mode select,body.dark-mode button{background:#2a2a2a;box-shadow:inset 5px 5px 10px #1c1c1c,inset -5px -5px 10px #333;color:#f5f5f5;}
button{cursor:pointer;font-weight:bold;background:#e0e0e0;box-shadow:5px 5px 15px #bebebe,-5px -5px 15px #ffffff;transition:0.3s;}
body.dark-mode button{background:#2a2a2a;box-shadow:5px 5px 15px #1c1c1c,-5px -5px 15px #333;}
button:hover{transform:translateY(-2px);}
.toggle-dark{position:absolute;top:15px;right:15px;width:50px;height:50px;border-radius:50%;background:#e0e0e0;box-shadow:5px 5px 15px #bebebe,-5px -5px 15px #ffffff;cursor:pointer;text-align:center;line-height:50px;font-weight:bold;transition:all 0.3s;font-size:1.2rem;}
body.dark-mode .toggle-dark{background:#2a2a2a;box-shadow:5px 5px 15px #1c1c1c,-5px -5px 15px #333;color:#f5f5f5;}
#result{width:100%;overflow-x:auto;margin-top:20px;}
#result table{width:100%;min-width:950px;border-collapse:collapse;table-layout:fixed;box-shadow:10px 10px 30px #bebebe,-10px -10px 30px #ffffff;border-radius:15px;overflow:hidden;transition:box-shadow 0.3s;}
body.dark-mode #result table{box-shadow:10px 10px 30px #111,-10px -10px 30px #222;}
th,td{padding:12px;text-align:left;border-bottom:1px solid #ccc;vertical-align:top;word-wrap:break-word;}
body.dark-mode th,body.dark-mode td{border-bottom:1px solid #444;}
th{background:#f0f0f0;box-shadow:inset 1px 1px 2px #bebebe,inset -1px -1px 2px #ffffff;}
body.dark-mode th{background:#2a2a2a;}
canvas{margin-top:20px;max-width:100%;}
footer{margin-top:20px;text-align:center;font-size:0.9rem;color:#888;transition:color 0.3s;}
body.dark-mode footer{color:#bbb;}
@media(max-width:600px){.app-frame{padding:20px;}#result table,th,td{font-size:0.75rem;}}
</style>
</head>
<body>
<div class="app-frame">
<div class="toggle-dark" onclick="toggleDarkMode()">ðŸŒ™</div>
<h1>NumeroScope</h1>
<input type="text" id="fullName" placeholder="Full Name">
<input type="date" id="birthDate" placeholder="Birth Date">
<input type="text" id="secondName" placeholder="Optional Second Name">
<input type="date" id="secondBirthDate" placeholder="Optional Second Birth Date">
<textarea id="inputText" rows="4" placeholder="Other inputs (comma/new line)"></textarea>
<h2>Additional Numerology Inputs</h2>
<input type="text" id="nameCorrection" placeholder="Name Correction Suggestion">
<input type="text" id="homeAddress" placeholder="Home Address Number">
<input type="text" id="productName" placeholder="Product Name">
<input type="text" id="businessName" placeholder="Business Name">
<input type="text" id="carPlate" placeholder="Car Number Plate">
<input type="text" id="placeName" placeholder="Place Name">
<select id="system">
<option value="pythagoras">Pythagoras</option>
<option value="chaldean">Chaldean</option>
<option value="vedic">Vedic</option>
<option value="kabbalah">Kabbalah</option>
</select>
<div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;width:100%;">
<button onclick="calculate()">Calculate</button>
<button onclick="clearAll()">Clear</button>
</div>
<div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;width:100%;">
<button onclick="exportTXT()">Export as TXT</button>
<button onclick="exportPDF()">Export as PDF</button>
<button onclick="exportDOCX()">Export as DOCX</button>
</div>
<div id="result"></div>
<canvas id="numerologyChart"></canvas>
<canvas id="soulPieChart"></canvas>
<footer>Â© Manik Roy 2025. All Rights Reserved.</footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// === Dark Mode ===
function toggleDarkMode(){document.body.classList.toggle('dark-mode');}

// === Numerology Maps ===
const pMap={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,S:1,T:2,U:3,V:4,W:5,X:6,Y:7,Z:8};
const cMap={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:1,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7};
const vedicMap={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:9,R:1,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9};
const kabbalahMap={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:10,K:20,L:30,M:40,N:50,O:60,P:70,Q:80,R:90,S:100,T:200,U:300,V:400,W:500,X:600,Y:700,Z:800};

// === Basic Numerology Functions ===
function sumDigits(num, keepMaster=false){num=parseInt(num);if(keepMaster&&(num===11||num===22||num===33))return num;while(num>9){num=num.toString().split('').reduce((a,b)=>a+parseInt(b),0);if(keepMaster&&(num===11||num===22||num===33))return num;}return num;}
function numerology(name,map,keepMaster=false){let sum=0;name=name.toUpperCase();for(let ch of name){if(/[A-Z]/.test(ch))sum+=map[ch];if(/\d/.test(ch))sum+=parseInt(ch);}return sumDigits(sum,keepMaster);}
function vowelNumber(name,map,keepMaster=false){return numerology(name.replace(/[^AEIOU]/gi,''),map,keepMaster);}
function consonantNumber(name,map,keepMaster=false){return numerology(name.replace(/[AEIOU]/gi,''),map,keepMaster);}
function birthdayNumber(date,keepMaster=false){if(!date)return '';return sumDigits(parseInt(date.split('-')[2]),keepMaster);}
function lifePathNumber(date,keepMaster=false){if(!date)return '';return sumDigits(date.replace(/-/g,''),keepMaster);}
function compatibility(n1,n2){if(!n1||!n2)return 'Provide both names for compatibility.';return `Compatibility based on harmony and mutual understanding.`;}

// === Interpretations (shortened for brevity) ===
const interpretations={1:{meaning:"Leadership",career:"Management",luck:"Bold actions",finance:"Strategic",health:"Stress"},2:{meaning:"Harmony",career:"Teamwork",luck:"Collaboration",finance:"Shared",health:"Emotional"},3:{meaning:"Creativity",career:"Arts",luck:"Networking",finance:"Creative",health:"Mental"},4:{meaning:"Stability",career:"Admin",luck:"Consistency",finance:"Planning",health:"Routine"},5:{meaning:"Freedom",career:"Travel",luck:"Change",finance:"Flexible",health:"Active"},6:{meaning:"Responsibility",career:"Healthcare",luck:"Support",finance:"Balanced",health:"Mind-body"},7:{meaning:"Wisdom",career:"Research",luck:"Solitude",finance:"Strategic",health:"Meditation"},8:{meaning:"Power",career:"Leadership",luck:"Hard work",finance:"Wealth",health:"Stress"},9:{meaning:"Humanitarian",career:"Charity",luck:"Helping",finance:"Ethical",health:"Emotional"},11:{meaning:"Master Intuition",career:"Creative",luck:"Intuition",finance:"Visionary",health:"Alignment"},22:{meaning:"Master Builder",career:"Management",luck:"Persistence",finance:"Strategic",health:"Avoid overwork"},33:{meaning:"Master Teacher",career:"Mentoring",luck:"Service",finance:"Responsible",health:"Balance"}};

// === Calculate Function with Charts ===
function calculate(){
    const system=document.getElementById('system').value;
    let map=pMap;
    if(system==='chaldean') map=cMap;
    else if(system==='vedic') map=vedicMap;
    else if(system==='kabbalah') map=kabbalahMap;

    const fullName=document.getElementById('fullName').value.trim();
    const birthDate=document.getElementById('birthDate').value.trim();

    let html='<table><tr><th>Category</th><th>Value</th><th>Meaning</th><th>Career</th><th>Luck</th><th>Finance</th><th>Health</th></tr>';

    function getInterp(num){return interpretations[num]||{meaning:'N/A',career:'-',luck:'-',finance:'-',health:'-'};}

    let chartData={labels:[],values:[]};
    if(fullName){
        const destiny=numerology(fullName,map,true);
        const soul=vowelNumber(fullName,map,true);
        const personality=consonantNumber(fullName,map,true);
        [{cat:'Destiny / Expression',num:destiny},{cat:"Soul Urge",num:soul},{cat:'Personality',num:personality}].forEach(item=>{
            const interp=getInterp(item.num);
            html+=`<tr><td>${item.cat}</td><td>${item.num}</td><td>${interp.meaning}</td><td>${interp.career}</td><td>${interp.luck}</td><td>${interp.finance}</td><td>${interp.health}</td></tr>`;
            chartData.labels.push(item.cat); chartData.values.push(item.num);
        });
    }

    if(birthDate){
        const lifePath=lifePathNumber(birthDate,true);
        const bday=birthdayNumber(birthDate,true);
        [{cat:'Life Path',num:lifePath},{cat:'Birthday Number',num:bday}].forEach(item=>{
            const interp=getInterp(item.num);
            html+=`<tr><td>${item.cat}</td><td>${item.num}</td><td>${interp.meaning}</td><td>${interp.career}</td><td>${interp.luck}</td><td>${interp.finance}</td><td>${interp.health}</td></tr>`;
            chartData.labels.push(item.cat); chartData.values.push(item.num);
        });
    }

    document.getElementById('result').innerHTML=html+'</table>';

    // === Charts ===
    renderCharts(chartData);
}

function renderCharts(data){
    const ctx=document.getElementById('numerologyChart').getContext('2d');
    if(window.numChart) window.numChart.destroy();
    window.numChart=new Chart(ctx,{type:'bar',data:{labels:data.labels,datasets:[{label:'Numerology Value',data:data.values,backgroundColor:'rgba(54, 162, 235, 0.6)'}]},options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}});

    const vowels=fullNameVowels();
    const consonants=fullNameConsonants();
    const ctx2=document.getElementById('soulPieChart').getContext('2d');
    if(window.pieChart) window.pieChart.destroy();
    window.pieChart=new Chart(ctx2,{type:'pie',data:{labels:['Soul (Vowels)','Personality (Consonants)'],datasets:[{data:[vowels,consonants],backgroundColor:['#FF6384','#36A2EB']}]}});
}

function fullNameVowels(){const name=document.getElementById('fullName').value.trim().toUpperCase();let sum=0;for(let ch of name){if(/[AEIOU]/.test(ch))sum+=1;}return sum;}
function fullNameConsonants(){const name=document.getElementById('fullName').value.trim().toUpperCase();let sum=0;for(let ch of name){if(/[BCDFGHJKLMNPQRSTVWXYZ]/.test(ch))sum+=1;}return sum;}

function clearAll(){['fullName','birthDate','secondName','secondBirthDate','inputText','nameCorrection','homeAddress','productName','businessName','carPlate','placeName'].forEach(id=>document.getElementById(id).value='');document.getElementById('result').innerHTML='';if(window.numChart) window.numChart.destroy();if(window.pieChart) window.pieChart.destroy();}

function exportTXT(){const table=document.getElementById('result').querySelector('table');if(!table){alert('No report');return;}let txt='NumeroScope Report\n\n';for(let row of table.rows){txt+=Array.from(row.cells).map(c=>c.innerText).join('\t')+'\n';}const blob=new Blob([txt],{type:'text/plain'});const link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download='NumeroScope_Report.txt';link.click();}
function exportPDF(){const table=document.getElementById('result');if(!table.innerHTML){alert('No report');return;}const printWindow=window.open('','_blank','width=800,height=600');printWindow.document.write('<html><head><title>NumeroScope Report</title></head><body><h2>NumeroScope Report</h2>'+table.innerHTML+'</body></html>');printWindow.document.close();printWindow.print();}
function exportDOCX(){const table=document.getElementById('result').querySelector('table');if(!table){alert('No report');return;}let html=`<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head><title>NumeroScope Report</title></head><body>`;html+=table.outerHTML+'</body></html>';const blob=new Blob(['ï»¿',html],{type:'application/msword'});const link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download='NumeroScope_Report.doc';link.click();}
</script>
</body>
</html>
